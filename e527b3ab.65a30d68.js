(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{186:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return c})),r.d(t,"metadata",(function(){return i})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return l}));var n=r(2),a=r(9),o=(r(0),r(196)),c={id:"immer",title:"Immer"},i={id:"js/immer",isDocsHomePage:!1,title:"Immer",description:"Immutable data structures can be deeply compared in no time. This allows us to",source:"@site/docs/js/immer.md",permalink:"/docs/js/immer",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/js/immer.md",sidebar:"someSidebar",previous:{title:"Redux",permalink:"/docs/js/redux"},next:{title:"reselect",permalink:"/docs/js/reselect"}},s=[{value:"Usage",id:"usage",children:[]}],m={rightToc:s};function l(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},m,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Immutable data structures can be deeply compared in no time. This allows us to\nefficiently determine if our components need to rerender since we know if the\n",Object(o.b)("inlineCode",{parentName:"p"},"props")," changed or not!"),Object(o.b)("p",null,"Check out ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://hackernoon.com/introducing-immer-immutability-the-easy-way-9d73d8f71cb3"}),"Introducing Immer: Immutability the easy way"),"\nand/or ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://www.netlify.com/blog/2018/09/12/the-rise-of-immer-in-react/"}),"The Rise of Immer in React"),"\nfor a good explanation of how Immer works and the more intricate benefits it provides."),Object(o.b)("h2",{id:"usage"},"Usage"),Object(o.b)("p",null,"The basic idea behind Immer is that you will apply all your changes to a temporary\ndraftState, which is a proxy of the currentState. Once all your mutations are completed,\nImmer will produce the nextState based on the mutations to the draft state. (See the\n",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://github.com/mweststrate/immer"}),"official docs")," for more details.)"),Object(o.b)("p",null,"The Immer package exposes the ",Object(o.b)("inlineCode",{parentName:"p"},"produce")," function which we use in the following way inside our reducers:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-JS"}),"import produce from 'immer';\nimport { SOME_ACTION, SOME_OTHER_ACTION } from './actions';\n\n// [\u2026]\n\n/* eslint-disable default-case, no-param-reassign */\nconst myReducer = (state = initialState, action) =>\n  produce(state, draft => {\n    switch (action.type) {\n      case SOME_ACTION:\n        draft.myData = action.payload;\n        break;\n      case SOME_OTHER_ACTION:\n        draft.myData.message = action.payload;\n        break;\n    }\n  });\n")),Object(o.b)("p",null,"We use ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"/docs/js/reselect"}),Object(o.b)("inlineCode",{parentName:"a"},"reselect"))," to efficiently cache our computed application\nstate."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-JS"}),"const myDataSelector = (state) => state.myData;\nconst messageSelector = (state) => state.myData.message;\n\nexport default myDataSelector;\n")),Object(o.b)("p",null,"To learn more, check out ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"reselect.md"}),Object(o.b)("inlineCode",{parentName:"a"},"/docs/js/reselect")),"!"))}l.isMDXComponent=!0},196:function(e,t,r){"use strict";r.d(t,"a",(function(){return p})),r.d(t,"b",(function(){return d}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var m=a.a.createContext({}),l=function(e){var t=a.a.useContext(m),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=l(e.components);return a.a.createElement(m.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},b=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,c=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),p=l(r),b=n,d=p["".concat(c,".").concat(b)]||p[b]||u[b]||o;return r?a.a.createElement(d,i(i({ref:t},m),{},{components:r})):a.a.createElement(d,i({ref:t},m))}));function d(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,c=new Array(o);c[0]=b;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i.mdxType="string"==typeof e?e:n,c[1]=i;for(var m=2;m<o;m++)c[m]=r[m];return a.a.createElement.apply(null,c)}return a.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"}}]);